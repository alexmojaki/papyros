(()=>{"use strict";var r,t,n={806:(r,t,n)=>{var e,o=n(375),i=n(872),a=(e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])},e(r,t)},function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(r,t){var n="function"==typeof Symbol&&r[Symbol.iterator];if(!n)return r;var e,o,i=n.call(r),a=[];try{for(;(void 0===t||t-- >0)&&!(e=i.next()).done;)a.push(e.value)}catch(r){o={error:r}}finally{try{e&&!e.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return a(t,r),t.prototype._runCodeInternal=function(r){var t,n,e=new Map([["prompt","__prompt"],["console.log","__papyros_log"],["console.error","__papyros_error"]]),o={__onEvent:this.onEvent.bind(this)},i=[],a=[];for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&a.push("const ".concat(p," = ctx['").concat(p,"'];"));try{for(var c=function(r){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&r[t],e=0;if(n)return n.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&e>=r.length&&(r=void 0),{value:r&&r[e++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.entries()),u=c.next();!u.done;u=c.next()){var l=s(u.value,2),f=l[0],y=l[1];a.push("".concat(y," = ").concat(f)),i.push("".concat(f," = ").concat(y))}}catch(r){t={error:r}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}a.push('\nfunction prompt(text="", defaultText=""){\n    __onEvent({"type": "output", "data": text});\n    const promptedValue = __onEvent({"type": "input", "data": text});\n    __onEvent({"type": "output", "data": promptedValue + "\\n"});\n    return promptedValue;\n}\nfunction __stringify(args, addNewline=false){\n    let asString = "";\n    if(Array.isArray(args)){\n        if(args.length === 1){\n            asString = JSON.stringify(args[0]);\n        } else {\n            asString = args.map(s => {\n                if(typeof s === \'string\' || s instanceof String){\n                    return s; // prevent spurious quotes\n                } else {\n                    return JSON.stringify(s);\n                }\n            }).join(" ");\n        }\n    } else {\n        asString = JSON.stringify(args);\n    }\n    if(addNewline){\n        asString += "\\n";\n    }\n    return asString;\n}\nconsole.log = (...args) => {\n    __onEvent({"type": "output", "data": __stringify(args, true)});\n}\nconsole.error = (...args) => {\n    __onEvent({"type": "error", "data": __stringify(args, true)});\n}\n        '),a.push("\ntry {\n".concat(r,"\n} finally {\n").concat(i.join("\n"),"\n}\n        "));var g=a.join("\n");return Promise.resolve(new Function("ctx",g)(o))},t}(i.z);(0,o.Jj)(new p)}},e={};function o(r){var t=e[r];if(void 0!==t)return t.exports;var i=e[r]={exports:{}};return n[r](i,i.exports,o),i.exports}o.m=n,o.x=()=>{var r=o.O(void 0,[114],(()=>o(806)));return o.O(r)},r=[],o.O=(t,n,e,i)=>{if(!n){var a=1/0;for(u=0;u<r.length;u++){for(var[n,e,i]=r[u],s=!0,p=0;p<n.length;p++)(!1&i||a>=i)&&Object.keys(o.O).every((r=>o.O[r](n[p])))?n.splice(p--,1):(s=!1,i<a&&(a=i));if(s){r.splice(u--,1);var c=e();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=r.length;u>0&&r[u-1][2]>i;u--)r[u]=r[u-1];r[u]=[n,e,i]},o.d=(r,t)=>{for(var n in t)o.o(t,n)&&!o.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:t[n]})},o.f={},o.e=r=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](r,t),t)),[])),o.u=r=>r+".bundle.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),o.o=(r,t)=>Object.prototype.hasOwnProperty.call(r,t),(()=>{var r;o.g.importScripts&&(r=o.g.location+"");var t=o.g.document;if(!r&&t&&(t.currentScript&&(r=t.currentScript.src),!r)){var n=t.getElementsByTagName("script");n.length&&(r=n[n.length-1].src)}if(!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=r})(),(()=>{var r={806:1};o.f.i=(t,n)=>{r[t]||importScripts(o.p+o.u(t))};var t=self.webpackChunkpapyros=self.webpackChunkpapyros||[],n=t.push.bind(t);t.push=t=>{var[e,i,a]=t;for(var s in i)o.o(i,s)&&(o.m[s]=i[s]);for(a&&a(o);e.length;)r[e.pop()]=1;n(t)}})(),t=o.x,o.x=()=>o.e(114).then(t),o.x()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0IsRUFBZ0JyQixJQUVsQlcsY0FBYzVDLEVBQW9CcUQsRUFBSXJELEVBQW9CcUMsRUFBRUosS0FLL0QsSUFBSXNCLEVBQXFCQyxLQUEwQixvQkFBSUEsS0FBMEIscUJBQUssR0FDbEZDLEVBQTZCRixFQUFtQmxFLEtBQUtSLEtBQUswRSxHQUM5REEsRUFBbUJsRSxLQXZCQ3FFLElBQ25CLElBQUs5QyxFQUFVK0MsRUFBYUMsR0FBV0YsRUFDdkMsSUFBSSxJQUFJekQsS0FBWTBELEVBQ2hCM0QsRUFBb0IyQixFQUFFZ0MsRUFBYTFELEtBQ3JDRCxFQUFvQk8sRUFBRU4sR0FBWTBELEVBQVkxRCxJQUloRCxJQURHMkQsR0FBU0EsRUFBUTVELEdBQ2RZLEVBQVNLLFFBQ2RxQyxFQUFnQjFDLEVBQVNpRCxPQUFTLEVBQ25DSixFQUEyQkMsSyxHVG5CeEJyRixFQUFPMkIsRUFBb0JRLEVBQy9CUixFQUFvQlEsRUFBSSxJQUNoQlIsRUFBb0JnQyxFQUFFLEtBQUs4QixLQUFLekYsR1VEZDJCLEVBQW9CUSxLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGFweXJvcy93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL3BhcHlyb3Mvd2VicGFjay9ydW50aW1lL3N0YXJ0dXAgY2h1bmsgZGVwZW5kZW5jaWVzIiwid2VicGFjazovL3BhcHlyb3MvLi9zcmMvd29ya2Vycy9qYXZhc2NyaXB0L0phdmFTY3JpcHRXb3JrZXIud29ya2VyLnRzIiwid2VicGFjazovL3BhcHlyb3Mvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcGFweXJvcy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vcGFweXJvcy93ZWJwYWNrL3J1bnRpbWUvZW5zdXJlIGNodW5rIiwid2VicGFjazovL3BhcHlyb3Mvd2VicGFjay9ydW50aW1lL2dldCBqYXZhc2NyaXB0IGNodW5rIGZpbGVuYW1lIiwid2VicGFjazovL3BhcHlyb3Mvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9wYXB5cm9zL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vcGFweXJvcy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9wYXB5cm9zL3dlYnBhY2svcnVudGltZS9pbXBvcnRTY3JpcHRzIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vcGFweXJvcy93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRlZmVycmVkID0gW107XG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8gPSAocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSA9PiB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV0gPSBkZWZlcnJlZFtpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNodW5rSWRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRpZiAoKHByaW9yaXR5ICYgMSA9PT0gMCB8fCBub3RGdWxmaWxsZWQgPj0gcHJpb3JpdHkpICYmIE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uTykuZXZlcnkoKGtleSkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKSkpKSB7XG5cdFx0XHRcdGNodW5rSWRzLnNwbGljZShqLS0sIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0XHRcdGlmKHByaW9yaXR5IDwgbm90RnVsZmlsbGVkKSBub3RGdWxmaWxsZWQgPSBwcmlvcml0eTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZC5zcGxpY2UoaS0tLCAxKVxuXHRcdFx0dmFyIHIgPSBmbigpO1xuXHRcdFx0aWYgKHIgIT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn07IiwidmFyIG5leHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLng7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnggPSAoKSA9PiB7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoMTE0KS50aGVuKG5leHQpO1xufTsiLCJpbXBvcnQgeyBleHBvc2UgfSBmcm9tIFwiY29tbGlua1wiO1xuaW1wb3J0IHsgQmFja2VuZCB9IGZyb20gXCIuLi8uLi9CYWNrZW5kXCI7XG5cblxuY2xhc3MgSmF2YVNjcmlwdFdvcmtlciBleHRlbmRzIEJhY2tlbmQge1xuICAgIG92ZXJyaWRlIF9ydW5Db2RlSW50ZXJuYWwoY29kZTogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgY29uc3QgdG9SZXN0b3JlID0gbmV3IE1hcChbXG4gICAgICAgICAgICBbXCJwcm9tcHRcIiwgXCJfX3Byb21wdFwiXSxcbiAgICAgICAgICAgIFtcImNvbnNvbGUubG9nXCIsIFwiX19wYXB5cm9zX2xvZ1wiXSxcbiAgICAgICAgICAgIFtcImNvbnNvbGUuZXJyb3JcIiwgXCJfX3BhcHlyb3NfZXJyb3JcIl1cbiAgICAgICAgXSk7XG4gICAgICAgIGNvbnN0IG92ZXJyaWRlQnVpbHRpbnMgPSBgXG5mdW5jdGlvbiBwcm9tcHQodGV4dD1cIlwiLCBkZWZhdWx0VGV4dD1cIlwiKXtcbiAgICBfX29uRXZlbnQoe1widHlwZVwiOiBcIm91dHB1dFwiLCBcImRhdGFcIjogdGV4dH0pO1xuICAgIGNvbnN0IHByb21wdGVkVmFsdWUgPSBfX29uRXZlbnQoe1widHlwZVwiOiBcImlucHV0XCIsIFwiZGF0YVwiOiB0ZXh0fSk7XG4gICAgX19vbkV2ZW50KHtcInR5cGVcIjogXCJvdXRwdXRcIiwgXCJkYXRhXCI6IHByb21wdGVkVmFsdWUgKyBcIlxcXFxuXCJ9KTtcbiAgICByZXR1cm4gcHJvbXB0ZWRWYWx1ZTtcbn1cbmZ1bmN0aW9uIF9fc3RyaW5naWZ5KGFyZ3MsIGFkZE5ld2xpbmU9ZmFsc2Upe1xuICAgIGxldCBhc1N0cmluZyA9IFwiXCI7XG4gICAgaWYoQXJyYXkuaXNBcnJheShhcmdzKSl7XG4gICAgICAgIGlmKGFyZ3MubGVuZ3RoID09PSAxKXtcbiAgICAgICAgICAgIGFzU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoYXJnc1swXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhc1N0cmluZyA9IGFyZ3MubWFwKHMgPT4ge1xuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBzID09PSAnc3RyaW5nJyB8fCBzIGluc3RhbmNlb2YgU3RyaW5nKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHM7IC8vIHByZXZlbnQgc3B1cmlvdXMgcXVvdGVzXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmpvaW4oXCIgXCIpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShhcmdzKTtcbiAgICB9XG4gICAgaWYoYWRkTmV3bGluZSl7XG4gICAgICAgIGFzU3RyaW5nICs9IFwiXFxcXG5cIjtcbiAgICB9XG4gICAgcmV0dXJuIGFzU3RyaW5nO1xufVxuY29uc29sZS5sb2cgPSAoLi4uYXJncykgPT4ge1xuICAgIF9fb25FdmVudCh7XCJ0eXBlXCI6IFwib3V0cHV0XCIsIFwiZGF0YVwiOiBfX3N0cmluZ2lmeShhcmdzLCB0cnVlKX0pO1xufVxuY29uc29sZS5lcnJvciA9ICguLi5hcmdzKSA9PiB7XG4gICAgX19vbkV2ZW50KHtcInR5cGVcIjogXCJlcnJvclwiLCBcImRhdGFcIjogX19zdHJpbmdpZnkoYXJncywgdHJ1ZSl9KTtcbn1cbiAgICAgICAgYDtcbiAgICAgICAgY29uc3QgbmV3Q29udGV4dCA9IHtcbiAgICAgICAgICAgIFwiX19vbkV2ZW50XCI6IHRoaXMub25FdmVudC5iaW5kKHRoaXMpXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3RvcmVCdWlsdGlucyA9IFtdO1xuICAgICAgICBjb25zdCBuZXdCb2R5ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgayBpbiBuZXdDb250ZXh0KSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5ld0NvbnRleHQsIGspKSB7XG4gICAgICAgICAgICAgICAgbmV3Qm9keS5wdXNoKGBjb25zdCAke2t9ID0gY3R4Wycke2t9J107YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbZm4sIGJhY2t1cF0gb2YgdG9SZXN0b3JlLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgbmV3Qm9keS5wdXNoKGAke2JhY2t1cH0gPSAke2ZufWApO1xuICAgICAgICAgICAgcmVzdG9yZUJ1aWx0aW5zLnB1c2goYCR7Zm59ID0gJHtiYWNrdXB9YCk7XG4gICAgICAgIH1cbiAgICAgICAgbmV3Qm9keS5wdXNoKG92ZXJyaWRlQnVpbHRpbnMpO1xuICAgICAgICBuZXdCb2R5LnB1c2goYFxudHJ5IHtcbiR7Y29kZX1cbn0gZmluYWxseSB7XG4ke3Jlc3RvcmVCdWlsdGlucy5qb2luKFwiXFxuXCIpfVxufVxuICAgICAgICBgKTtcbiAgICAgICAgY29uc3QgZm5Cb2R5ID0gbmV3Qm9keS5qb2luKFwiXFxuXCIpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgRnVuY3Rpb24oXCJjdHhcIiwgZm5Cb2R5KShuZXdDb250ZXh0KSk7XG4gICAgfVxufVxuXG5leHBvc2UobmV3IEphdmFTY3JpcHRXb3JrZXIoKSk7XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbi8vIHRoZSBzdGFydHVwIGZ1bmN0aW9uXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnggPSAoKSA9PiB7XG5cdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuXHQvLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcblx0dmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbMTE0XSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oODA2KSkpXG5cdF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8oX193ZWJwYWNrX2V4cG9ydHNfXyk7XG5cdHJldHVybiBfX3dlYnBhY2tfZXhwb3J0c19fO1xufTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5mID0ge307XG4vLyBUaGlzIGZpbGUgY29udGFpbnMgb25seSB0aGUgZW50cnkgY2h1bmsuXG4vLyBUaGUgY2h1bmsgbG9hZGluZyBmdW5jdGlvbiBmb3IgYWRkaXRpb25hbCBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18uZSA9IChjaHVua0lkKSA9PiB7XG5cdHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLmYpLnJlZHVjZSgocHJvbWlzZXMsIGtleSkgPT4ge1xuXHRcdF9fd2VicGFja19yZXF1aXJlX18uZltrZXldKGNodW5rSWQsIHByb21pc2VzKTtcblx0XHRyZXR1cm4gcHJvbWlzZXM7XG5cdH0sIFtdKSk7XG59OyIsIi8vIFRoaXMgZnVuY3Rpb24gYWxsb3cgdG8gcmVmZXJlbmNlIGFzeW5jIGNodW5rcyBhbmQgc2libGluZyBjaHVua3MgZm9yIHRoZSBlbnRyeXBvaW50XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnUgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIFwiXCIgKyBjaHVua0lkICsgXCIuYnVuZGxlLmpzXCI7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGNodW5rc1xuLy8gXCIxXCIgbWVhbnMgXCJhbHJlYWR5IGxvYWRlZFwiXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQ4MDY6IDFcbn07XG5cbi8vIGltcG9ydFNjcmlwdHMgY2h1bmsgbG9hZGluZ1xudmFyIGluc3RhbGxDaHVuayA9IChkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHR9XG5cdH1cblx0aWYocnVudGltZSkgcnVudGltZShfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0d2hpbGUoY2h1bmtJZHMubGVuZ3RoKVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkcy5wb3AoKV0gPSAxO1xuXHRwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcbn07XG5fX3dlYnBhY2tfcmVxdWlyZV9fLmYuaSA9IChjaHVua0lkLCBwcm9taXNlcykgPT4ge1xuXHQvLyBcIjFcIiBpcyB0aGUgc2lnbmFsIGZvciBcImFscmVhZHkgbG9hZGVkXCJcblx0aWYoIWluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuXHRcdGlmKHRydWUpIHsgLy8gYWxsIGNodW5rcyBoYXZlIEpTXG5cdFx0XHRpbXBvcnRTY3JpcHRzKF9fd2VicGFja19yZXF1aXJlX18ucCArIF9fd2VicGFja19yZXF1aXJlX18udShjaHVua0lkKSk7XG5cdFx0fVxuXHR9XG59O1xuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua3BhcHlyb3NcIl0gPSBzZWxmW1wid2VicGFja0NodW5rcGFweXJvc1wiXSB8fCBbXTtcbnZhciBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiA9IGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gaW5zdGFsbENodW5rO1xuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0IiwiLy8gcnVuIHN0YXJ0dXBcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy54KCk7XG4iXSwibmFtZXMiOlsiZGVmZXJyZWQiLCJuZXh0IiwiX3J1bkNvZGVJbnRlcm5hbCIsImNvZGUiLCJ0b1Jlc3RvcmUiLCJNYXAiLCJuZXdDb250ZXh0IiwidGhpcyIsIm9uRXZlbnQiLCJiaW5kIiwicmVzdG9yZUJ1aWx0aW5zIiwibmV3Qm9keSIsImsiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJwdXNoIiwiZW50cmllcyIsImZuIiwiYmFja3VwIiwiam9pbiIsImZuQm9keSIsIlByb21pc2UiLCJyZXNvbHZlIiwiRnVuY3Rpb24iLCJKYXZhU2NyaXB0V29ya2VyIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwieCIsIl9fd2VicGFja19leHBvcnRzX18iLCJPIiwicmVzdWx0IiwiY2h1bmtJZHMiLCJwcmlvcml0eSIsIm5vdEZ1bGZpbGxlZCIsIkluZmluaXR5IiwiaSIsImxlbmd0aCIsImZ1bGZpbGxlZCIsImoiLCJrZXlzIiwiZXZlcnkiLCJrZXkiLCJzcGxpY2UiLCJyIiwiZCIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZiIsImUiLCJjaHVua0lkIiwiYWxsIiwicmVkdWNlIiwicHJvbWlzZXMiLCJ1IiwiZyIsImdsb2JhbFRoaXMiLCJ3aW5kb3ciLCJvYmoiLCJwcm9wIiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsImluc3RhbGxlZENodW5rcyIsImNodW5rTG9hZGluZ0dsb2JhbCIsInNlbGYiLCJwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiIsImRhdGEiLCJtb3JlTW9kdWxlcyIsInJ1bnRpbWUiLCJwb3AiLCJ0aGVuIl0sInNvdXJjZVJvb3QiOiIifQ==